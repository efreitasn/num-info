{"version":3,"sources":["components/Header/index.jsx","components/Footer/index.jsx","hooks/useMainDispatch.js","hooks/useMainState.js","components/MainContent/Search/Form/Input/index.jsx","components/MainContent/Search/Form/Button/index.jsx","components/MainContent/Section/index.jsx","api/index.js","hooks/useSearchDispatch.js","hooks/useGetNumberInfo.js","hooks/useSearchState.js","components/MainContent/Search/Form/index.jsx","hooks/useInputChange.js","components/MainContent/Search/RecentSearches/index.jsx","components/MainContent/Search/index.jsx","components/MainContent/InfoBox/index.jsx","components/MainContent/Message/index.jsx","components/SpinnerIcon/index.jsx","components/MainContent/Loading/index.jsx","components/MainContent/index.jsx","index.js","components/App/index.jsx"],"names":["Header","react_default","a","createElement","className","Footer","href","target","rel","mainDispatchContext","createContext","initialMainState","triviaInfo","mathInfo","yearInfo","hasError","loading","notFound","forwardRef","_ref","ref","onChange","value","inputEl","useRef","useImperativeHandle","focus","current","placeholder","MainContentFormButton","MainContentSection","noShadow","children","concat","getNumberInfo","Object","asyncToGenerator","regenerator_default","mark","_callee","number","type","res","wrap","_context","prev","next","fetch","sent","abrupt","json","stop","this","_x","_x2","apply","arguments","getNumberInfoAllTypes","Promise","all","searchDispatchContext","useSearchDispatch","useContext","useGetNumberInfo","mainDispatch","searchDispatch","useCallback","currentValue","_ref2","_ref3","slicedToArray","found","text","t0","initialSearchState","focusInput","recentSearches","searchStateContext","useSearchState","isValidInputValue","match","MainContentSearchForm","formInputRef","_useInputChange","initialValue","isValidValueFn","_useState","useState","_useState2","setValue","useInputChange","_useInputChange2","inputValue","onInputChange","setInputValue","_useSearchState","submitValue","e","preventDefault","useEffect","onSubmit","Input","MainContentSearchRecent","length","toConsumableArray","reverse","map","key","onClick","reducer","state","action","newRecentSearches","filter","i","arr","lastIndexOf","shift","getRecentSearches","Number","objectSpread","MainContentSearch","_useReducer","useReducer","_useReducer2","dispatch","JSON","parse","localStorage","getItem","setItem","stringify","Provider","titles","trivia","math","year","MainContentInfoBox","description","title","MainContentMessage","SpinnerIcon","version","xmlns","width","height","viewBox","d","MainContentLoading","MainContent","_useReducer2$","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3a655c5e.chunk.js","sourcesContent":["import React from 'react';\nimport './styles.css';\n\nexport default function Header() {\n  return (\n    <header className=\"header\">\n      <h1 className=\"header-title\">\n        <span className=\"header-title__num\">num</span>\n        <span className=\"header-title__in\">In</span>\n        <span className=\"header-title__fo\">fo</span>\n      </h1>\n    </header>\n  );\n};","import React from 'react';\nimport './styles.css';\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <div>\n        <a\n          className=\"footer-link\"\n          href=\"https://github.com/efreitasn/num-info\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >View on github</a>\n      </div>\n      <div className=\"footer-author-info\">\n        <span className=\"footer-by\">By </span>\n        <a\n          className=\"footer-link\"\n          href=\"https://efreitasn.dev\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >efreitasn</a>\n      </div>\n    </footer>\n  );\n}","import {\n  useContext,\n  createContext\n} from 'react';\n\nexport const mainDispatchContext = createContext(() => void(0));\n\nexport default function useMainDispatch() {\n  return useContext(mainDispatchContext);\n}","import {\n  useContext,\n  createContext\n} from 'react';\n\nexport const initialMainState = {\n  triviaInfo: null,\n  mathInfo: null,\n  yearInfo: null,\n  hasError: false,\n  loading: false,\n  notFound: false\n};\n\nexport const mainStateContext = createContext(initialMainState);\n\nexport default function useMainState() {\n  return useContext(mainStateContext);\n}","import React, {\n  useRef,\n  useImperativeHandle,\n  forwardRef\n} from 'react';\nimport './styles.css';\n\nfunction MainContentSearchFormInput({\n  onChange,\n  value\n}, ref) {\n  const inputEl = useRef(null);\n\n  useImperativeHandle(\n    ref,\n    () => ({\n      focus: () => {\n        inputEl.current.focus();\n      }\n    }),\n    [inputEl]\n  );\n\n  return (\n    <input\n      className=\"main-content-search-form-input\"\n      value={value}\n      placeholder=\"type a number\"\n      onChange={onChange}\n      ref={inputEl}\n    />\n  )\n}\n\nexport default forwardRef(MainContentSearchFormInput);","import React from 'react';\nimport './styles.css';\n\nexport default function MainContentFormButton() {\n  return (\n    <button\n      className=\"main-content-search-form-button\"\n    >Get info</button>\n  );\n}","import React from 'react';\nimport './styles.css';\n\nexport default function MainContentSection({\n  noShadow,\n  children\n}) {\n  return (\n    <section className={`main-content-section${noShadow ? ' main-content-section--no-shadow' : ''}`}>\n      {children}\n    </section>\n  );\n};","export const getNumberInfo = async (\n  number,\n  type // year | trivia | math\n) => {\n  const res = await fetch(`https://num-info-proxy.herokuapp.com/${number}/${type}?json`);\n\n  return res.json();\n};\n\nexport const getNumberInfoAllTypes = number => Promise.all([\n  getNumberInfo(number, 'trivia'),\n  getNumberInfo(number, 'year'),\n  getNumberInfo(number, 'math')\n]);","import {\n  useContext,\n  createContext\n} from 'react';\n\nexport const searchDispatchContext = createContext(() => void(0));\n\nexport default function useSearchDispatch() {\n  return useContext(searchDispatchContext);\n}","import { useCallback } from 'react';\nimport { getNumberInfoAllTypes } from '../api';\nimport useMainDispatch from './useMainDispatch';\nimport useSearchDispatch from './useSearchDispatch';\n\nexport default function useGetNumberInfo() {\n  const mainDispatch = useMainDispatch();\n  const searchDispatch = useSearchDispatch();\n  const getNumberInfo = useCallback(\n    async currentValue => {\n      if (currentValue !== '') {\n        mainDispatch({\n          type: 'START_LOADING'\n        });\n  \n        searchDispatch({\n          type: 'SET_CURRENT_VALUE',\n          currentValue\n        });\n  \n        try {\n          const [\n            triviaInfo,\n            yearInfo,\n            mathInfo\n          ] = await getNumberInfoAllTypes(currentValue);\n  \n          mainDispatch({\n            type: 'SET_INFO',\n            triviaInfo: triviaInfo.found ? triviaInfo.text : null,\n            yearInfo: yearInfo.found ? yearInfo.text : null,\n            mathInfo: mathInfo.found ? mathInfo.text : null\n          });\n        } catch (e) {\n          mainDispatch({\n            type: 'HAS_ERROR'\n          });\n        }\n      }\n    },\n    []\n  );\n\n  return getNumberInfo;\n}","import {\n  useContext,\n  createContext\n} from 'react';\n\nexport const initialSearchState = {\n  currentValue: '',\n  focusInput: false,\n  recentSearches: []\n};\n\nexport const searchStateContext = createContext(initialSearchState);\n\nexport default function useSearchState() {\n  return useContext(searchStateContext);\n}","import React, {\n  useCallback,\n  useEffect,\n  useRef\n} from 'react';\nimport MainContentFormInput from './Input';\nimport MainContentFormButton from './Button';\nimport MainContentSection from '../../Section';\nimport useInputChange from '../../../../hooks/useInputChange';\nimport useGetNumberInfo from '../../../../hooks/useGetNumberInfo';\nimport useSearchState from '../../../../hooks/useSearchState';\nimport useSearchDispatch from '../../../../hooks/useSearchDispatch';\nimport './styles.css';\n\nconst isValidInputValue = value => value === '' || value.match(/^[0-9]+$/g);\n\nexport default function MainContentSearchForm() {\n  const formInputRef = useRef(null);\n  const searchDispatch = useSearchDispatch();\n  const getNumberInfo = useGetNumberInfo();\n  const [\n    inputValue,\n    onInputChange,\n    setInputValue\n  ] = useInputChange('', isValidInputValue)\n  const {\n    currentValue,\n    focusInput\n  } = useSearchState();\n  const submitValue = useCallback(\n    async e => {\n      e.preventDefault();\n\n      getNumberInfo(inputValue);\n    },\n    [inputValue]\n  );\n\n  useEffect(\n    () => setInputValue(currentValue),\n    [currentValue]\n  );\n\n  useEffect(\n    () => {\n      if (focusInput) {\n        formInputRef.current.focus();\n        searchDispatch({\n          type: 'REMOVE_FOCUS_INPUT'\n        })\n      }\n    },\n    [\n      focusInput,\n      formInputRef\n    ]\n  )\n\n  useEffect(\n    () => formInputRef.current.focus(),\n    [formInputRef]\n  );\n\n  return (\n    <MainContentSection>\n      <form\n        className=\"main-content-search-form\"\n        onSubmit={submitValue}\n      >\n        <MainContentFormInput\n          value={inputValue}\n          onChange={onInputChange}\n          ref={formInputRef}\n        />\n        <MainContentFormButton />\n      </form>\n    </MainContentSection>\n  );\n}","import {\n  useState,\n  useCallback\n} from 'react';\n\nexport default function useInputChange(initialValue, isValidValueFn) {\n  const [value, setValue] = useState(initialValue);\n  const onInputChange = useCallback(\n    ({ target }) => {\n      if (isValidValueFn && isValidValueFn(target.value)) {\n        setValue(target.value);\n      } else if (!isValidValueFn) {\n        setValue(target.value);\n      }\n    },\n    [\n      isValidValueFn\n    ]\n  );\n\n  return [\n    value,\n    onInputChange,\n    setValue\n  ];\n}","import React from 'react';\nimport MainContentSection from '../../Section';\nimport useGetNumberInfo from '../../../../hooks/useGetNumberInfo';\nimport useSearchState from '../../../../hooks/useSearchState';\nimport './styles.css';\n\nexport default function MainContentSearchRecent() {\n  const getNumberInfo = useGetNumberInfo();\n  const { recentSearches } = useSearchState();\n\n  return recentSearches.length === 0 ? null : (\n    <MainContentSection noShadow>\n      <div className=\"main-content-search-recent\">\n        <h2 className=\"main-content-search-recent__title\">Recent searches</h2>\n        <div className=\"main-content-search-recent__items\">\n          {[...recentSearches]\n            .reverse()\n            .map(number => (\n              <button\n                key={number}\n                className=\"main-content-search-recent__item\"\n                onClick={() => getNumberInfo(number)}\n              >{number}</button>\n            ))\n          }\n        </div>\n      </div>\n    </MainContentSection>\n  );\n}","import React, {\n  useReducer,\n  useEffect\n} from 'react';\nimport MainContentSearchForm from './Form';\nimport MainContentSearchRecent from './RecentSearches';\nimport { searchDispatchContext } from '../../../hooks/useSearchDispatch';\nimport {\n  searchStateContext,\n  initialSearchState\n} from '../../../hooks/useSearchState';\n\nfunction getRecentSearches(recentSearches, currentValue) {\n  if (recentSearches[recentSearches.length - 1] !== currentValue) {\n    const newRecentSearches = [\n      ...recentSearches,\n      currentValue\n    ].filter((e, i, arr) => arr.lastIndexOf(e) === i);\n\n    if (newRecentSearches.length === 6) {\n      newRecentSearches.shift();\n    }\n\n    return newRecentSearches;\n  }\n\n  return recentSearches;\n}\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'SET_CURRENT_VALUE':\n      const recentSearches = getRecentSearches(\n        state.recentSearches,\n        Number(action.currentValue)\n      );\n\n      return {\n        ...state,\n        currentValue: action.currentValue,\n        recentSearches,\n        focusInput: true\n      };\n    case 'SET_RECENT_SEARCHES':\n      return {\n        ...state,\n        recentSearches: action.recentSearches\n      };\n    case 'REMOVE_FOCUS_INPUT':\n      return {\n        ...state,\n        focusInput: false\n      };\n    default:\n      return state;\n  }\n}\n\nexport default function MainContentSearch() {\n  const [state, dispatch] = useReducer(reducer, initialSearchState);\n\n  useEffect(\n    () => {\n      const recentSearches = JSON.parse(localStorage.getItem('recent_searches'));\n\n      if (recentSearches) {\n        dispatch({\n          type: 'SET_RECENT_SEARCHES',\n          recentSearches\n        });\n      }\n    },\n    []\n  );\n\n  useEffect(\n    () => {\n      localStorage.setItem('recent_searches', JSON.stringify(state.recentSearches));\n    },\n    [state.recentSearches]\n  );\n\n  return (\n    <searchDispatchContext.Provider value={dispatch}>\n      <searchStateContext.Provider value={state}>\n        <MainContentSearchForm />\n        <MainContentSearchRecent />\n      </searchStateContext.Provider>\n    </searchDispatchContext.Provider>\n  );\n};","import React from 'react';\nimport MainContentSection from '../Section';\nimport './styles.css';\n\nconst titles = {\n  'trivia': 'Trivia',\n  'math': 'Math',\n  'year': 'Year'\n};\n\n/*\n  type is one of:\n    - trivia\n    - year\n    - math\n*/\nexport default function MainContentInfoBox({\n  type,\n  title,\n  description\n}) {\n  return (\n    <MainContentSection>\n      <div className={`main-content-info-box main-content-info-box--${type}`}>\n        <h2>{titles[type]}</h2>\n        <p>{description}</p>\n      </div>\n    </MainContentSection>\n  );\n}","import React from 'react';\nimport MainContentSection from '../Section';\nimport './styles.css';\n\n/*\n  type is one of:\n    - not-found\n    - error\n*/\nexport default function MainContentMessage({\n  type\n}) {\n  switch (type) {\n    case 'not-found':\n      return (\n        <MainContentSection noShadow>\n          <p className=\"main-content-message main-content-message--not-found\">\n            There's no info related to that number ;(\n          </p>\n        </MainContentSection>\n      );\n    case 'error':\n      return (\n        <MainContentSection noShadow>\n          <p className=\"main-content-message main-content-message--error\">\n            An error happened while trying to get the info.\n          </p>\n        </MainContentSection>\n      );\n    default:\n      return null;\n  }\n}","// SVG from icomoon spinner icon\nimport React from 'react';\nimport './styles.css';\n\nexport default function SpinnerIcon() {\n  return (\n    <svg\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"32\"\n      height=\"32\"\n      viewBox=\"0 0 32 32\"\n      className=\"spinner-icon\"\n    >\n      <title>Loading</title>\n      <path d=\"M16 32c-4.274 0-8.292-1.664-11.314-4.686s-4.686-7.040-4.686-11.314c0-3.026 0.849-5.973 2.456-8.522 1.563-2.478 3.771-4.48 6.386-5.791l1.344 2.682c-2.126 1.065-3.922 2.693-5.192 4.708-1.305 2.069-1.994 4.462-1.994 6.922 0 7.168 5.832 13 13 13s13-5.832 13-13c0-2.459-0.69-4.853-1.994-6.922-1.271-2.015-3.066-3.643-5.192-4.708l1.344-2.682c2.615 1.31 4.824 3.313 6.386 5.791 1.607 2.549 2.456 5.495 2.456 8.522 0 4.274-1.664 8.292-4.686 11.314s-7.040 4.686-11.314 4.686z\"></path>\n    </svg>\n  );\n}","import React from 'react';\nimport SpinnerIcon from '../../SpinnerIcon';\nimport MainContentSection from '../Section';\nimport './styles.css';\n\nexport default function MainContentLoading() {\n  return (\n    <MainContentSection noShadow>\n      <div className=\"main-content-loading\">\n        <SpinnerIcon />\n      </div>\n    </MainContentSection>\n  );\n}","import React, { useReducer } from 'react';\nimport { mainDispatchContext } from '../../hooks/useMainDispatch';\nimport { initialMainState } from '../../hooks/useMainState';\nimport MainContentSearch from './Search';\nimport MainContentInfoBox from './InfoBox';\nimport MainContentMessage from './Message';\nimport MainContentLoading from './Loading';\nimport './styles.css';\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'START_LOADING':\n      return {\n        ...initialMainState,\n        loading: true\n      };\n    case 'SET_INFO':\n      return {\n        ...state,\n        triviaInfo: action.triviaInfo,\n        yearInfo: action.yearInfo,\n        mathInfo: action.mathInfo,\n        notFound: !action.triviaInfo && !action.yearInfo && !action.mathInfo,\n        loading: false\n      };\n    case 'HAS_ERROR':\n      return {\n        ...state,\n        hasError: true,\n        loading: false\n      };\n    default:\n      return state;\n  }\n}\n\nexport default function MainContent() {\n  const [{\n    triviaInfo,\n    yearInfo,\n    mathInfo,\n    loading,\n    notFound,\n    hasError\n  }, dispatch] = useReducer(reducer, initialMainState);\n\n  return (\n    <mainDispatchContext.Provider value={dispatch}>\n      <main>\n        <MainContentSearch />\n        {loading && (\n          <MainContentLoading />\n        )}\n        {hasError && (\n          <MainContentMessage\n            type=\"error\"\n          />\n        )}\n        {notFound && (\n          <MainContentMessage\n            type=\"not-found\"\n          />\n        )}\n        {triviaInfo && (\n          <MainContentInfoBox\n            type=\"trivia\"\n            description={triviaInfo}\n          />\n        )}\n        {yearInfo && (\n          <MainContentInfoBox\n            type=\"year\"\n            description={yearInfo}\n          />\n        )}\n        {mathInfo && (\n          <MainContentInfoBox\n            type=\"math\"\n            description={mathInfo}\n          />\n        )}\n      </main>\n    </mainDispatchContext.Provider>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import React from 'react';\nimport Header from '../Header';\nimport Footer from '../Footer';\nimport MainContent from '../MainContent';\nimport './styles.css';\n\nexport default function App() {\n  return (\n    <div className=\"app\">\n      <Header />\n      <MainContent />\n      <Footer />\n    </div>\n  );\n}"],"sourceRoot":""}