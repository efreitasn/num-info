{"version":3,"sources":["components/Header/index.jsx","hooks/useDispatch.js","api/index.js","components/MainContent/Form/Input/index.jsx","components/MainContent/Form/Button/index.jsx","components/MainContent/Section/index.jsx","components/MainContent/Form/index.jsx","hooks/useInputChange.js","components/MainContent/InfoBox/index.jsx","components/MainContent/Message/index.jsx","components/SpinnerIcon/index.jsx","components/MainContent/Loading/index.jsx","components/MainContent/index.jsx","index.js","components/App/index.jsx"],"names":["Header","react_default","a","createElement","className","dispatchContext","createContext","getNumberInfo","_ref","Object","asyncToGenerator","regenerator_default","mark","_callee","number","type","res","wrap","_context","prev","next","fetch","concat","sent","abrupt","json","stop","this","_x","_x2","apply","arguments","getNumberInfoAllTypes","Promise","all","MainContentFormInput","onChange","value","inputEl","useRef","useEffect","current","focus","placeholder","ref","MainContentFormButton","onClick","MainContentSection","transparent","children","isValidInputValue","match","MainContentForm","_useInputChange","initialValue","isValidValueFn","_useState","useState","_useState2","slicedToArray","setValue","useCallback","target","useInputChange","_useInputChange2","inputValue","onInputChange","dispatch","useContext","submitValue","e","_ref2","_ref3","triviaInfo","yearInfo","mathInfo","preventDefault","found","text","t0","titles","trivia","math","year","MainContentInfoBox","description","title","MainContentMessage","SpinnerIcon","version","xmlns","width","height","viewBox","d","MainContentLoading","initialState","hasError","loading","notFound","reducer","state","action","objectSpread","MainContent","_useReducer","useReducer","_useReducer2","_useReducer2$","Provider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c369fc46.chunk.js","sourcesContent":["import React from 'react';\nimport './styles.css';\n\nexport default function Header() {\n  return (\n    <header className=\"main-header\">\n      <h1 className=\"main-title\">\n        <span className=\"main-title__num\">num</span>\n        <span className=\"main-title__in\">In</span>\n        <span className=\"main-title__fo\">fo</span>\n      </h1>\n    </header>\n  );\n};","import {\n  useContext,\n  createContext\n} from 'react';\n\nexport const dispatchContext = createContext(() => void(0));\n\nexport default function useDispatch() {\n  return useContext(dispatchContext);\n}","export const getNumberInfo = async (\n  number,\n  type // year | trivia | math\n) => {\n  const res = await fetch(`http://numbersapi.com/${number}/${type}?json`);\n\n  return res.json();\n};\n\nexport const getNumberInfoAllTypes = number => Promise.all([\n  getNumberInfo(number, 'trivia'),\n  getNumberInfo(number, 'year'),\n  getNumberInfo(number, 'math')\n]);","import React, {\n  useRef,\n  useEffect\n} from 'react';\nimport './styles.css';\n\nexport default function MainContentFormInput({\n  onChange,\n  value\n}) {\n  const inputEl = useRef(null);\n\n  useEffect(\n    () => {\n      if (inputEl.current) {\n        inputEl.current.focus();\n      }\n    },\n    [inputEl]\n  );\n\n  return (\n    <input\n      className=\"main-content-form-input\"\n      value={value}\n      placeholder=\"type a number\"\n      onChange={onChange}\n      ref={inputEl}\n    />\n  )\n}","import React from 'react';\nimport './styles.css';\n\nexport default function MainContentFormButton({ onClick }) {\n  return (\n    <button\n      className=\"main-content-form-button\"\n      onClick={onClick}\n    >Get info</button>\n  );\n}","import React from 'react';\nimport './styles.css';\n\nexport default function MainContentSection({\n  transparent,\n  children\n}) {\n  return (\n    <section className={`main-content-section${transparent ? ' main-content-section--transparent' : ''}`}>\n      {children}\n    </section>\n  );\n};","import React, { useCallback } from 'react';\nimport { getNumberInfoAllTypes } from '../../../api';\nimport './styles.css';\n// Hooks\nimport useInputChange from '../../../hooks/useInputChange';\nimport useDispatch from '../../../hooks/useDispatch';\nimport MainContentFormInput from './Input';\nimport MainContentFormButton from './Button';\nimport MainContentSection from '../Section';\n\nconst isValidInputValue = value => value === '' || value.match(/^[0-9]+$/g);\n\nexport default function MainContentForm() {\n  const [inputValue, onInputChange] = useInputChange('', isValidInputValue)\n  const dispatch = useDispatch();\n  const submitValue = useCallback(\n    async e => {\n      e.preventDefault();\n\n      if (inputValue !== '') {\n        dispatch({\n          type: 'START_LOADING'\n        });\n\n        try {\n          const [\n            triviaInfo,\n            yearInfo,\n            mathInfo\n          ] = await getNumberInfoAllTypes(inputValue);\n  \n          dispatch({\n            type: 'SET_INFO',\n            triviaInfo: triviaInfo.found ? triviaInfo.text : null,\n            yearInfo: yearInfo.found ? yearInfo.text : null,\n            mathInfo: mathInfo.found ? mathInfo.text : null\n          });\n        } catch(e) {\n          dispatch({\n            type: 'HAS_ERROR'\n          });\n        }\n      }\n    },\n    [inputValue]\n  );\n\n  return (\n    <MainContentSection>\n      <form className=\"main-content-form\">\n        <MainContentFormInput\n          value={inputValue}\n          onChange={onInputChange}\n        />\n        <MainContentFormButton\n          onClick={submitValue}\n        />\n      </form>\n    </MainContentSection>\n  );\n}","import {\n  useState,\n  useCallback\n} from 'react';\n\nexport default function useInputChange(initialValue, isValidValueFn) {\n  const [value, setValue] = useState(initialValue);\n  const onInputChange = useCallback(\n    ({ target }) => {\n      if (isValidValueFn && isValidValueFn(target.value)) {\n        setValue(target.value);\n      } else if (!isValidValueFn) {\n        setValue(target.value);\n      }\n    },\n    [\n      setValue,\n      isValidValueFn\n    ]\n  );\n\n  return [\n    value,\n    onInputChange\n  ];\n}","import React from 'react';\nimport MainContentSection from '../Section';\nimport './styles.css';\n\nconst titles = {\n  'trivia': 'Trivia',\n  'math': 'Math',\n  'year': 'Year'\n};\n\n/*\n  type is one of:\n    - trivia\n    - year\n    - math\n*/\nexport default function MainContentInfoBox({\n  type,\n  title,\n  description\n}) {\n  return (\n    <MainContentSection>\n      <div className={`main-content-info-box main-content-info-box--${type}`}>\n        <h2>{titles[type]}</h2>\n        <p>{description}</p>\n      </div>\n    </MainContentSection>\n  );\n}","import React from 'react';\nimport MainContentSection from '../Section';\nimport './styles.css';\n\n/*\n  type is one of:\n    - not-found\n    - error\n*/\nexport default function MainContentMessage({\n  type\n}) {\n  switch (type) {\n    case 'not-found':\n      return (\n        <MainContentSection transparent>\n          <p className=\"main-content-message main-content-message--not-found\">\n            There's no info related to that number ;(\n          </p>\n        </MainContentSection>\n      );\n    case 'error':\n      return (\n        <MainContentSection transparent>\n          <p className=\"main-content-message main-content-message--error\">\n            An error happened while trying to get the info.\n          </p>\n        </MainContentSection>\n      );\n    default:\n      return null;\n  }\n}","// SVG from icomoon spinner icon\nimport React from 'react';\nimport './styles.css';\n\nexport default function SpinnerIcon() {\n  return (\n    <svg\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"32\"\n      height=\"32\"\n      viewBox=\"0 0 32 32\"\n      className=\"spinner-icon\"\n    >\n      <title>Loading</title>\n      <path d=\"M16 32c-4.274 0-8.292-1.664-11.314-4.686s-4.686-7.040-4.686-11.314c0-3.026 0.849-5.973 2.456-8.522 1.563-2.478 3.771-4.48 6.386-5.791l1.344 2.682c-2.126 1.065-3.922 2.693-5.192 4.708-1.305 2.069-1.994 4.462-1.994 6.922 0 7.168 5.832 13 13 13s13-5.832 13-13c0-2.459-0.69-4.853-1.994-6.922-1.271-2.015-3.066-3.643-5.192-4.708l1.344-2.682c2.615 1.31 4.824 3.313 6.386 5.791 1.607 2.549 2.456 5.495 2.456 8.522 0 4.274-1.664 8.292-4.686 11.314s-7.040 4.686-11.314 4.686z\"></path>\n    </svg>\n  );\n}","import React from 'react';\nimport SpinnerIcon from '../../SpinnerIcon';\nimport MainContentSection from '../Section';\nimport './styles.css';\n\nexport default function MainContentLoading() {\n  return (\n    <MainContentSection transparent>\n      <div className=\"main-content-loading\">\n        <SpinnerIcon />\n      </div>\n    </MainContentSection>\n  );\n}","import React, { useReducer } from 'react';\nimport { dispatchContext } from '../../hooks/useDispatch';\nimport MainContentForm from './Form';\nimport MainContentInfoBox from './InfoBox';\nimport MainContentMessage from './Message';\nimport MainContentLoading from './Loading';\nimport './styles.css';\n\nconst initialState = {\n  triviaInfo: null,\n  mathInfo: null,\n  yearInfo: null,\n  hasError: false,\n  loading: false,\n  notFound: false\n};\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'START_LOADING':\n      return {\n        ...initialState,\n        loading: true\n      };\n    case 'SET_INFO':\n      return {\n        ...state,\n        triviaInfo: action.triviaInfo,\n        yearInfo: action.yearInfo,\n        mathInfo: action.mathInfo,\n        notFound: !action.triviaInfo && !action.yearInfo && !action.mathInfo,\n        loading: false\n      };\n    case 'HAS_ERROR':\n      return {\n        ...state,\n        hasError: true,\n        loading: false\n      };\n    default:\n      return state;\n  }\n}\n\nexport default function MainContent() {\n  const [{\n    triviaInfo,\n    yearInfo,\n    mathInfo,\n    loading,\n    notFound,\n    hasError\n  }, dispatch] = useReducer(reducer, initialState);\n\n  return (\n    <dispatchContext.Provider value={dispatch}>\n      <main>\n        <MainContentForm />\n        {loading && (\n          <MainContentLoading />\n        )}\n        {hasError && (\n          <MainContentMessage\n            type=\"error\"\n          />\n        )}\n        {notFound && (\n          <MainContentMessage\n            type=\"not-found\"\n          />\n        )}\n        {triviaInfo && (\n          <MainContentInfoBox\n            type=\"trivia\"\n            description={triviaInfo}\n          />\n        )}\n        {yearInfo && (\n          <MainContentInfoBox\n            type=\"year\"\n            description={yearInfo}\n          />\n        )}\n        {mathInfo && (\n          <MainContentInfoBox\n            type=\"math\"\n            description={mathInfo}\n          />\n        )}\n      </main>\n    </dispatchContext.Provider>\n  );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles.css';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));","import React from 'react';\nimport Header from '../Header';\nimport MainContent from '../MainContent';\nimport './styles.css';\n\nexport default function App() {\n  return (\n    <div className=\"app\">\n      <Header />\n      <MainContent />\n    </div>\n  );\n}"],"sourceRoot":""}